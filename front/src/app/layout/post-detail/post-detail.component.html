<section class="bg-[#09090b] text-zinc-100">
  <div class="mx-auto max-w-3xl px-4 py-12 sm:px-6 lg:px-10">
    @let post = post$ | async;

    @if (post) {
      <header class="mb-8 space-y-4">
        <a
          routerLink="/"
          class="inline-flex items-center gap-2 rounded-full border border-white/10 px-4 py-1.5 text-sm text-zinc-300 transition hover:border-white/30 hover:text-white"
        >
          <i class="pi pi-arrow-left text-xs"></i>
          Back to feed
        </a>
        <p class="text-xs uppercase tracking-[0.3em] text-zinc-500">
          {{ post.tags?.[0] ?? 'NgPodium' | titlecase }}
        </p>
        <h1 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">
          {{ post.title }}
        </h1>
        <div class="flex items-center gap-3 text-sm text-zinc-500">
          <span>{{ post.date | date:'fullDate' }}</span>
          @if (post.tags?.length) {
            <span class="h-1 w-1 rounded-full bg-zinc-700"></span>
            <div class="flex flex-wrap items-center gap-2">
              @for (tag of post.tags; track tag) {
                <span class="rounded-full border border-white/15 bg-white/10 px-2 py-0.5 text-[11px] uppercase tracking-[0.18em] text-zinc-200">
                  {{ tag }}
                </span>
              }
            </div>
          }
        </div>
      </header>

      <div class="mt-4 flex gap-2">
        <button class="rounded-md border border-white/10 px-3 py-1.5 text-sm text-zinc-200 hover:bg-white/5" (click)="onEdit(post)">Edit</button>
        <button class="rounded-md bg-red-600/90 px-3 py-1.5 text-sm font-semibold text-white hover:bg-red-600" (click)="onDelete(post.id)">Delete</button>
      </div>

      @if (post.imageUrl) {
        <img [src]="post.imageUrl" alt="{{ post.title }}" class="mt-4 w-full rounded-xl border border-white/10" />
      }

      <article class="prose prose-invert prose-zinc max-w-none">
        <div [innerHTML]="postHtml$ | async"></div>
      </article>
    } @else {
      <div class="grid place-items-center rounded-2xl border border-dashed border-white/10 p-12 text-center text-sm text-zinc-500">
        <p>We couldn't find that post. Please return to the <a routerLink="/" class="text-zinc-200 underline">feed</a>.</p>
      </div>
    }
  </div>
</section>
